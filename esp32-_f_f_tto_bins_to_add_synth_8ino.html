<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Vibrosonics: esp32-FFTtoBinsToAddSynth.ino File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Vibrosonics
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('esp32-_f_f_tto_bins_to_add_synth_8ino.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">esp32-FFTtoBinsToAddSynth.ino File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;arduinoFFT.h&gt;</code><br />
<code>#include &lt;Arduino.h&gt;</code><br />
<code>#include &lt;MozziGuts.h&gt;</code><br />
<code>#include &lt;Oscil.h&gt;</code><br />
<code>#include &lt;tables/sin2048_int8.h&gt;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a1fd33066f77c7adf042093cbd2d43798"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a1fd33066f77c7adf042093cbd2d43798">AUDIO_INPUT_PIN_LEFT</a>&#160;&#160;&#160;A2</td></tr>
<tr class="memdesc:a1fd33066f77c7adf042093cbd2d43798"><td class="mdescLeft">&#160;</td><td class="mdescRight">left channel audio input  <br /></td></tr>
<tr class="separator:a1fd33066f77c7adf042093cbd2d43798"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e07a77cc2d44c9db6c9ed0259020e22"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a3e07a77cc2d44c9db6c9ed0259020e22">AUDIO_INPUT_PIN_RIGHT</a>&#160;&#160;&#160;A3</td></tr>
<tr class="memdesc:a3e07a77cc2d44c9db6c9ed0259020e22"><td class="mdescLeft">&#160;</td><td class="mdescRight">right channel audio input  <br /></td></tr>
<tr class="separator:a3e07a77cc2d44c9db6c9ed0259020e22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01ad881567e2c4641c1b90f7f9b7e6b2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a01ad881567e2c4641c1b90f7f9b7e6b2">SAMPLES_PER_SEC</a>&#160;&#160;&#160;32</td></tr>
<tr class="memdesc:a01ad881567e2c4641c1b90f7f9b7e6b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">The number of sampling/analysis cycles per second, this MUST be a power of 2.  <br /></td></tr>
<tr class="separator:a01ad881567e2c4641c1b90f7f9b7e6b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a672e826f90d2353b776281bcee832244"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a672e826f90d2353b776281bcee832244">FFT_SAMPLING_FREQ</a>&#160;&#160;&#160;8192</td></tr>
<tr class="memdesc:a672e826f90d2353b776281bcee832244"><td class="mdescLeft">&#160;</td><td class="mdescRight">The sampling frequency, ideally should be a power of 2.  <br /></td></tr>
<tr class="separator:a672e826f90d2353b776281bcee832244"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6fb55daf48579b8ab77d976c01ffae3a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a6fb55daf48579b8ab77d976c01ffae3a">FFT_WINDOW_SIZE</a>&#160;&#160;&#160;int(pow(2, 12 - log(<a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a01ad881567e2c4641c1b90f7f9b7e6b2">SAMPLES_PER_SEC</a>) / log(2)))</td></tr>
<tr class="memdesc:a6fb55daf48579b8ab77d976c01ffae3a"><td class="mdescLeft">&#160;</td><td class="mdescRight">the FFT window size and number of audio samples for ideal performance, this MUST be a power of 2 \ 2^(12 - log_base2(SAMPLES_PER_SEC)) = 64 for 64/s, 128 for 32/s, 256 for 16/s, 512 for 8/s  <br /></td></tr>
<tr class="separator:a6fb55daf48579b8ab77d976c01ffae3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5d737db8bc97ecf08d2ea3121782d26"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#ae5d737db8bc97ecf08d2ea3121782d26">CONTROL_RATE</a>&#160;&#160;&#160;int(pow(2, 5 + log(<a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a01ad881567e2c4641c1b90f7f9b7e6b2">SAMPLES_PER_SEC</a>) / log(2)))</td></tr>
<tr class="memdesc:ae5d737db8bc97ecf08d2ea3121782d26"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update control cycles per second for ideal performance, this MUST be a power of 2 2^(5 + log_base2(SAMPLES_PER_SEC)) = 2048 for 64/s, 1024 for 32/s, 512 for 16/s, 256 for 8/s.  <br /></td></tr>
<tr class="separator:ae5d737db8bc97ecf08d2ea3121782d26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95abe9e2bdbf853a25283df915bf6289"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a95abe9e2bdbf853a25283df915bf6289">DEFAULT_NUM_WAVES</a>&#160;&#160;&#160;5</td></tr>
<tr class="memdesc:a95abe9e2bdbf853a25283df915bf6289"><td class="mdescLeft">&#160;</td><td class="mdescRight">The number of waves to synthesize, and how many slices the breadslicer function does.  <br /></td></tr>
<tr class="separator:a95abe9e2bdbf853a25283df915bf6289"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3568552851981dc5aea8c570dc58212c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a3568552851981dc5aea8c570dc58212c">OSCIL_COUNT</a>&#160;&#160;&#160;int(<a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a95abe9e2bdbf853a25283df915bf6289">DEFAULT_NUM_WAVES</a>) &lt;&lt; 1</td></tr>
<tr class="memdesc:a3568552851981dc5aea8c570dc58212c"><td class="mdescLeft">&#160;</td><td class="mdescRight">The total number of waves to synthesize, DEFAULT_NUM_WAVES * 2.  <br /></td></tr>
<tr class="separator:a3568552851981dc5aea8c570dc58212c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a455aa258af04dec4a27708bb5951b04b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a455aa258af04dec4a27708bb5951b04b">BREADSLICER_CURVE_EXPONENT</a>&#160;&#160;&#160;3.0</td></tr>
<tr class="memdesc:a455aa258af04dec4a27708bb5951b04b"><td class="mdescLeft">&#160;</td><td class="mdescRight">The exponent for the used for the breadslicer curve.  <br /></td></tr>
<tr class="separator:a455aa258af04dec4a27708bb5951b04b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b982b3bb3ff3b2c89cf219640d6cac2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a7b982b3bb3ff3b2c89cf219640d6cac2">BREADSLICER_CURVE_OFFSET</a>&#160;&#160;&#160;0.59</td></tr>
<tr class="memdesc:a7b982b3bb3ff3b2c89cf219640d6cac2"><td class="mdescLeft">&#160;</td><td class="mdescRight">The curve offset for the breadslicer to follow when slicing the amplitude array.  <br /></td></tr>
<tr class="separator:a7b982b3bb3ff3b2c89cf219640d6cac2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a749d9a2dd3e81512a6ffde758d0bffbe"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a749d9a2dd3e81512a6ffde758d0bffbe">DEFAULT_BREADSLICER_MAX_AVG_BIN</a>&#160;&#160;&#160;2000</td></tr>
<tr class="memdesc:a749d9a2dd3e81512a6ffde758d0bffbe"><td class="mdescLeft">&#160;</td><td class="mdescRight">The minimum max that is used for scaling the amplitudes to the 0-255 range, and helps represent the volume.  <br /></td></tr>
<tr class="separator:a749d9a2dd3e81512a6ffde758d0bffbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78ca6144a6b9abd676b060924f15fee3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a78ca6144a6b9abd676b060924f15fee3">FFT_FLOOR_THRESH</a>&#160;&#160;&#160;300</td></tr>
<tr class="memdesc:a78ca6144a6b9abd676b060924f15fee3"><td class="mdescLeft">&#160;</td><td class="mdescRight">amplitude flooring threshold for FFT, to help reduce input noise  <br /></td></tr>
<tr class="separator:a78ca6144a6b9abd676b060924f15fee3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a4fc01d736fe50cf5b977f755b675f11d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a4fc01d736fe50cf5b977f755b675f11d">setup</a> ()</td></tr>
<tr class="separator:a4fc01d736fe50cf5b977f755b675f11d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe461d27b9c48d5921c00d521181f12f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#afe461d27b9c48d5921c00d521181f12f">loop</a> ()</td></tr>
<tr class="separator:afe461d27b9c48d5921c00d521181f12f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59d187b915b2e366c88489e52801951a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a59d187b915b2e366c88489e52801951a">updateControl</a> ()</td></tr>
<tr class="separator:a59d187b915b2e366c88489e52801951a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41f0db3f560ff1fdec78f9c60822466e"><td class="memItemLeft" align="right" valign="top">AudioOutput_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a41f0db3f560ff1fdec78f9c60822466e">updateAudio</a> ()</td></tr>
<tr class="separator:a41f0db3f560ff1fdec78f9c60822466e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad22ce9102881117eea2c8e1d845f08b6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#ad22ce9102881117eea2c8e1d845f08b6">calculateBreadslicerLocations</a> ()</td></tr>
<tr class="separator:ad22ce9102881117eea2c8e1d845f08b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a88842bf46ea8b9141a56526321acc1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a4a88842bf46ea8b9141a56526321acc1">breadslicer</a> (float *data, int sliceInto)</td></tr>
<tr class="separator:a4a88842bf46ea8b9141a56526321acc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a011480b65a5ac428d3fa560baa445b87"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a011480b65a5ac428d3fa560baa445b87">findMajorPeaks</a> (float *data)</td></tr>
<tr class="separator:a011480b65a5ac428d3fa560baa445b87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a520bcf71d9a4db6501d29a92d228c9f2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a520bcf71d9a4db6501d29a92d228c9f2">frequencyMaxAmplitudeDelta</a> (float *data, float *prevData)</td></tr>
<tr class="separator:a520bcf71d9a4db6501d29a92d228c9f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11975c48ec4b8483653b2eea25819582"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a11975c48ec4b8483653b2eea25819582">recordSample</a> (int sampleCount)</td></tr>
<tr class="separator:a11975c48ec4b8483653b2eea25819582"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad283e62c0f4622d334e5db85ed75a4cb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#ad283e62c0f4622d334e5db85ed75a4cb">calculateFadeFunction</a> ()</td></tr>
<tr class="separator:ad283e62c0f4622d334e5db85ed75a4cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace892773176b7d17c2d07497bad7441a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#ace892773176b7d17c2d07497bad7441a">mapFreqAmplitudes</a> ()</td></tr>
<tr class="separator:ace892773176b7d17c2d07497bad7441a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af079caf41d703225c337d01ff1d47265"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#af079caf41d703225c337d01ff1d47265">smoothenTransition</a> ()</td></tr>
<tr class="separator:af079caf41d703225c337d01ff1d47265"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a29de084c3c8324623b03cd883eb0a9e1"><td class="memItemLeft" align="right" valign="top">const uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a29de084c3c8324623b03cd883eb0a9e1">FFT_WIN_SIZE</a> = int(<a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a6fb55daf48579b8ab77d976c01ffae3a">FFT_WINDOW_SIZE</a>)</td></tr>
<tr class="memdesc:a29de084c3c8324623b03cd883eb0a9e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">the windowing function size of FFT  <br /></td></tr>
<tr class="separator:a29de084c3c8324623b03cd883eb0a9e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3b13da676fec615aa50d645ba0c44c5"><td class="memItemLeft" align="right" valign="top">const float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#ac3b13da676fec615aa50d645ba0c44c5">SAMPLE_FREQ</a> = float(<a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a672e826f90d2353b776281bcee832244">FFT_SAMPLING_FREQ</a>)</td></tr>
<tr class="memdesc:ac3b13da676fec615aa50d645ba0c44c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">the sampling frequency of FFT  <br /></td></tr>
<tr class="separator:ac3b13da676fec615aa50d645ba0c44c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5fe0cb84b5d3be77434374630ebaf741"><td class="memItemLeft" align="right" valign="top">const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a5fe0cb84b5d3be77434374630ebaf741">FFT_WIN_SIZE_BY2</a> = int(<a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a29de084c3c8324623b03cd883eb0a9e1">FFT_WIN_SIZE</a>) &gt;&gt; 1</td></tr>
<tr class="separator:a5fe0cb84b5d3be77434374630ebaf741"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a6515073e16fbf227dbd3948622c1dc"><td class="memItemLeft" align="right" valign="top">const float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a9a6515073e16fbf227dbd3948622c1dc">samplingFreqBy2</a> = <a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#ac3b13da676fec615aa50d645ba0c44c5">SAMPLE_FREQ</a> / 2.0</td></tr>
<tr class="memdesc:a9a6515073e16fbf227dbd3948622c1dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">the frequency we are sampling at divided by 2, since we need to sample twice the frequency we are trying to detect  <br /></td></tr>
<tr class="separator:a9a6515073e16fbf227dbd3948622c1dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57c91699aff3818ddda304b58c95aa11"><td class="memItemLeft" align="right" valign="top">const float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a57c91699aff3818ddda304b58c95aa11">frequencyResolution</a> = float(<a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a9a6515073e16fbf227dbd3948622c1dc">samplingFreqBy2</a> / <a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a5fe0cb84b5d3be77434374630ebaf741">FFT_WIN_SIZE_BY2</a>)</td></tr>
<tr class="memdesc:a57c91699aff3818ddda304b58c95aa11"><td class="mdescLeft">&#160;</td><td class="mdescRight">the frequency resolution of FFT with the current window size  <br /></td></tr>
<tr class="separator:a57c91699aff3818ddda304b58c95aa11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaad52919d25569aeeb3d3d0699b1384d"><td class="memItemLeft" align="right" valign="top">const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#aaad52919d25569aeeb3d3d0699b1384d">sampleDelayTime</a> = 1000000 / <a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#ac3b13da676fec615aa50d645ba0c44c5">SAMPLE_FREQ</a></td></tr>
<tr class="separator:aaad52919d25569aeeb3d3d0699b1384d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0511d0e92fa6e8a9a9cf6e2f4f23eca"><td class="memItemLeft" align="right" valign="top">const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#af0511d0e92fa6e8a9a9cf6e2f4f23eca">totalSampleDelay</a> = <a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#aaad52919d25569aeeb3d3d0699b1384d">sampleDelayTime</a> * <a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a29de084c3c8324623b03cd883eb0a9e1">FFT_WIN_SIZE</a></td></tr>
<tr class="separator:af0511d0e92fa6e8a9a9cf6e2f4f23eca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa79320f52f3ac98552e0bf23e4da5406"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#aa79320f52f3ac98552e0bf23e4da5406">numSamplesTaken</a> = 0</td></tr>
<tr class="memdesc:aa79320f52f3ac98552e0bf23e4da5406"><td class="mdescLeft">&#160;</td><td class="mdescRight">stores the number of audio samples taken, used as iterator to fill audio sample buffer  <br /></td></tr>
<tr class="separator:aa79320f52f3ac98552e0bf23e4da5406"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b05406466f48548342ee40dee00651d"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a2b05406466f48548342ee40dee00651d">vRealL</a> [<a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a29de084c3c8324623b03cd883eb0a9e1">FFT_WIN_SIZE</a>]</td></tr>
<tr class="memdesc:a2b05406466f48548342ee40dee00651d"><td class="mdescLeft">&#160;</td><td class="mdescRight">vRealL is used for input from the left channel and receives computed results from FFT  <br /></td></tr>
<tr class="separator:a2b05406466f48548342ee40dee00651d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94cf79586f569fec18177b9d59b9eb4d"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a94cf79586f569fec18177b9d59b9eb4d">vImagL</a> [<a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a29de084c3c8324623b03cd883eb0a9e1">FFT_WIN_SIZE</a>]</td></tr>
<tr class="memdesc:a94cf79586f569fec18177b9d59b9eb4d"><td class="mdescLeft">&#160;</td><td class="mdescRight">vImagL is used to store imaginary values for computation  <br /></td></tr>
<tr class="separator:a94cf79586f569fec18177b9d59b9eb4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4dd768352e4453a2eb1e41c31defdac0"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a4dd768352e4453a2eb1e41c31defdac0">vRealR</a> [<a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a29de084c3c8324623b03cd883eb0a9e1">FFT_WIN_SIZE</a>]</td></tr>
<tr class="memdesc:a4dd768352e4453a2eb1e41c31defdac0"><td class="mdescLeft">&#160;</td><td class="mdescRight">vRealR is used for input from the right channel and receives computed results from FFT  <br /></td></tr>
<tr class="separator:a4dd768352e4453a2eb1e41c31defdac0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79f18f5a8af016e548addb4df7b61c7b"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a79f18f5a8af016e548addb4df7b61c7b">vImagR</a> [<a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a29de084c3c8324623b03cd883eb0a9e1">FFT_WIN_SIZE</a>]</td></tr>
<tr class="memdesc:a79f18f5a8af016e548addb4df7b61c7b"><td class="mdescLeft">&#160;</td><td class="mdescRight">vImagR is used to store imaginary values for computation  <br /></td></tr>
<tr class="separator:a79f18f5a8af016e548addb4df7b61c7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d7c7fbeda6d1814ad388e154218ecf9"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a3d7c7fbeda6d1814ad388e154218ecf9">vRealPrev</a> [<a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a5fe0cb84b5d3be77434374630ebaf741">FFT_WIN_SIZE_BY2</a>]</td></tr>
<tr class="separator:a3d7c7fbeda6d1814ad388e154218ecf9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe24551053b7358016540fbebdf40079"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#afe24551053b7358016540fbebdf40079">maxAmpChange</a> = 0</td></tr>
<tr class="separator:afe24551053b7358016540fbebdf40079"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a92a07bde565e55068e6576de189513"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a0a92a07bde565e55068e6576de189513">maxAmpChangeAmp</a> = 0</td></tr>
<tr class="separator:a0a92a07bde565e55068e6576de189513"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31f38911ab561e0a2ee9322334816491"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a31f38911ab561e0a2ee9322334816491">freqMaxAmpChange</a> = 0</td></tr>
<tr class="separator:a31f38911ab561e0a2ee9322334816491"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabe459ab615ab0d8aa9d9c65ba7e226a"><td class="memItemLeft" align="right" valign="top">const float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#aabe459ab615ab0d8aa9d9c65ba7e226a">OUTLIER</a> = 30000.0</td></tr>
<tr class="memdesc:aabe459ab615ab0d8aa9d9c65ba7e226a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Outlier for unusually high amplitudes in FFT.  <br /></td></tr>
<tr class="separator:aabe459ab615ab0d8aa9d9c65ba7e226a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06dc8755eca604de4444291b9dfe17a0"><td class="memItemLeft" align="right" valign="top">arduinoFFT&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a06dc8755eca604de4444291b9dfe17a0">FFT</a> = arduinoFFT(<a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a2b05406466f48548342ee40dee00651d">vRealL</a>, <a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a94cf79586f569fec18177b9d59b9eb4d">vImagL</a>, <a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a29de084c3c8324623b03cd883eb0a9e1">FFT_WIN_SIZE</a>, <a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#ac3b13da676fec615aa50d645ba0c44c5">SAMPLE_FREQ</a>)</td></tr>
<tr class="separator:a06dc8755eca604de4444291b9dfe17a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a636e40401497161b8a0c4382080ddcd0"><td class="memItemLeft" align="right" valign="top">const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a636e40401497161b8a0c4382080ddcd0">UPDATE_TIME</a> = 1000000 / <a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#ae5d737db8bc97ecf08d2ea3121782d26">CONTROL_RATE</a></td></tr>
<tr class="memdesc:a636e40401497161b8a0c4382080ddcd0"><td class="mdescLeft">&#160;</td><td class="mdescRight">The estimated time in microseconds of each <a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a59d187b915b2e366c88489e52801951a">updateControl()</a> call.  <br /></td></tr>
<tr class="separator:a636e40401497161b8a0c4382080ddcd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a896dc2c4caaf39f484ea213511b2641c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a896dc2c4caaf39f484ea213511b2641c">nextProcess</a> = 0</td></tr>
<tr class="memdesc:a896dc2c4caaf39f484ea213511b2641c"><td class="mdescLeft">&#160;</td><td class="mdescRight">The next signal aquisition/processing phase to be completed in updateControl.  <br /></td></tr>
<tr class="separator:a896dc2c4caaf39f484ea213511b2641c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b98b893b0f40d01bb301506af1b9f96"><td class="memItemLeft" align="right" valign="top">const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a8b98b893b0f40d01bb301506af1b9f96">numSamplesPerProcess</a> = floor(<a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a636e40401497161b8a0c4382080ddcd0">UPDATE_TIME</a> / <a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#aaad52919d25569aeeb3d3d0699b1384d">sampleDelayTime</a>)</td></tr>
<tr class="memdesc:a8b98b893b0f40d01bb301506af1b9f96"><td class="mdescLeft">&#160;</td><td class="mdescRight">The Number of samples to take per update.  <br /></td></tr>
<tr class="separator:a8b98b893b0f40d01bb301506af1b9f96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ca76cf692c40b0280785e897f5bf869"><td class="memItemLeft" align="right" valign="top">const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a1ca76cf692c40b0280785e897f5bf869">numProcessForSampling</a> = ceil(<a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a29de084c3c8324623b03cd883eb0a9e1">FFT_WIN_SIZE</a> / <a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a8b98b893b0f40d01bb301506af1b9f96">numSamplesPerProcess</a>)</td></tr>
<tr class="memdesc:a1ca76cf692c40b0280785e897f5bf869"><td class="mdescLeft">&#160;</td><td class="mdescRight">the total number of processes to sample, calculated in setup  <br /></td></tr>
<tr class="separator:a1ca76cf692c40b0280785e897f5bf869"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3d14089fff686af4951a2edca621905"><td class="memItemLeft" align="right" valign="top">const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#ac3d14089fff686af4951a2edca621905">numTotalProcesses</a> = <a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a1ca76cf692c40b0280785e897f5bf869">numProcessForSampling</a> + 2</td></tr>
<tr class="memdesc:ac3d14089fff686af4951a2edca621905"><td class="mdescLeft">&#160;</td><td class="mdescRight">adding 2 more processes for FFT windowing function and other processing  <br /></td></tr>
<tr class="separator:ac3d14089fff686af4951a2edca621905"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f7e20656e5d202a35d00f5df63106d6"><td class="memItemLeft" align="right" valign="top">volatile unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a9f7e20656e5d202a35d00f5df63106d6">sampleT</a></td></tr>
<tr class="memdesc:a9f7e20656e5d202a35d00f5df63106d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">stores the time since program started using mozziMicros() rather than micros()  <br /></td></tr>
<tr class="separator:a9f7e20656e5d202a35d00f5df63106d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb63574bf68aa408bed9299506ee4535"><td class="memItemLeft" align="right" valign="top">const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#abb63574bf68aa408bed9299506ee4535">SAMPLE_TIME</a> = int(<a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#ae5d737db8bc97ecf08d2ea3121782d26">CONTROL_RATE</a> / <a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a01ad881567e2c4641c1b90f7f9b7e6b2">SAMPLES_PER_SEC</a>)</td></tr>
<tr class="memdesc:abb63574bf68aa408bed9299506ee4535"><td class="mdescLeft">&#160;</td><td class="mdescRight">sampling and processing time in updateControl  <br /></td></tr>
<tr class="separator:abb63574bf68aa408bed9299506ee4535"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95eefc3e3dfde96226ad7040be832c9f"><td class="memItemLeft" align="right" valign="top">const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a95eefc3e3dfde96226ad7040be832c9f">FADE_RATE</a> = <a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#abb63574bf68aa408bed9299506ee4535">SAMPLE_TIME</a></td></tr>
<tr class="memdesc:a95eefc3e3dfde96226ad7040be832c9f"><td class="mdescLeft">&#160;</td><td class="mdescRight">the number of cycles for fading  <br /></td></tr>
<tr class="separator:a95eefc3e3dfde96226ad7040be832c9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a032c65c9c79d8749a7ed7df7d68e4569"><td class="memItemLeft" align="right" valign="top">const float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a032c65c9c79d8749a7ed7df7d68e4569">FADE_STEPX</a> = float(2.0 / (<a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a95eefc3e3dfde96226ad7040be832c9f">FADE_RATE</a> - 1))</td></tr>
<tr class="memdesc:a032c65c9c79d8749a7ed7df7d68e4569"><td class="mdescLeft">&#160;</td><td class="mdescRight">the x position of the smoothing curve  <br /></td></tr>
<tr class="separator:a032c65c9c79d8749a7ed7df7d68e4569"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5db3c4d293ff61777e277ed48075a847"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a5db3c4d293ff61777e277ed48075a847">FADE_CONST</a> [<a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a95eefc3e3dfde96226ad7040be832c9f">FADE_RATE</a>]</td></tr>
<tr class="memdesc:a5db3c4d293ff61777e277ed48075a847"><td class="mdescLeft">&#160;</td><td class="mdescRight">Array storing amplitude smoothing constants from 0.0 to 1.0.  <br /></td></tr>
<tr class="separator:a5db3c4d293ff61777e277ed48075a847"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06b27c3b9baf6deead77da64ff56173e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a06b27c3b9baf6deead77da64ff56173e">fadeCounter</a> = 0</td></tr>
<tr class="memdesc:a06b27c3b9baf6deead77da64ff56173e"><td class="mdescLeft">&#160;</td><td class="mdescRight">counter used to smoothen transition between amplitudes  <br /></td></tr>
<tr class="separator:a06b27c3b9baf6deead77da64ff56173e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5d092e294df6ea9e4a62580d55af04d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#ac5d092e294df6ea9e4a62580d55af04d">peakIndexes</a> [<a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a5fe0cb84b5d3be77434374630ebaf741">FFT_WIN_SIZE_BY2</a>]</td></tr>
<tr class="separator:ac5d092e294df6ea9e4a62580d55af04d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a718a65727ea3d6a4df7700aab4a5956c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a718a65727ea3d6a4df7700aab4a5956c">peakAmplitudes</a> [<a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a5fe0cb84b5d3be77434374630ebaf741">FFT_WIN_SIZE_BY2</a>]</td></tr>
<tr class="separator:a718a65727ea3d6a4df7700aab4a5956c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2d0c52b978801aecb8d130a0d1cbcd5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#af2d0c52b978801aecb8d130a0d1cbcd5">numWaves</a> = int(<a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a95abe9e2bdbf853a25283df915bf6289">DEFAULT_NUM_WAVES</a>)</td></tr>
<tr class="separator:af2d0c52b978801aecb8d130a0d1cbcd5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada9502094021bbd7e286ecbdb9cc226a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#ada9502094021bbd7e286ecbdb9cc226a">sumOfPeakAmps</a> = 0</td></tr>
<tr class="separator:ada9502094021bbd7e286ecbdb9cc226a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae88311b0e9e9d98c9ec83f13292f3819"><td class="memItemLeft" align="right" valign="top">const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#ae88311b0e9e9d98c9ec83f13292f3819">slices</a> = <a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#af2d0c52b978801aecb8d130a0d1cbcd5">numWaves</a></td></tr>
<tr class="memdesc:ae88311b0e9e9d98c9ec83f13292f3819"><td class="mdescLeft">&#160;</td><td class="mdescRight">accounts for how many slices the samples are split into  <br /></td></tr>
<tr class="separator:ae88311b0e9e9d98c9ec83f13292f3819"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb2b154370d84e55e9974bba76a7902d"><td class="memItemLeft" align="right" valign="top">const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#acb2b154370d84e55e9974bba76a7902d">totalNumWaves</a> = int(<a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a95abe9e2bdbf853a25283df915bf6289">DEFAULT_NUM_WAVES</a>) &lt;&lt; 1</td></tr>
<tr class="memdesc:acb2b154370d84e55e9974bba76a7902d"><td class="mdescLeft">&#160;</td><td class="mdescRight">we are synthesizing twice the number of frequencies we are finding, toggling between the two sets, changing the frequency when the amplitudes of one of the sets are 0  <br /></td></tr>
<tr class="separator:acb2b154370d84e55e9974bba76a7902d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1407b951e8381667a6c8bc65e46a4423"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a1407b951e8381667a6c8bc65e46a4423">amplitudeToRange</a> = (255.0/<a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a749d9a2dd3e81512a6ffde758d0bffbe">DEFAULT_BREADSLICER_MAX_AVG_BIN</a>) / <a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#af2d0c52b978801aecb8d130a0d1cbcd5">numWaves</a></td></tr>
<tr class="memdesc:a1407b951e8381667a6c8bc65e46a4423"><td class="mdescLeft">&#160;</td><td class="mdescRight">the "K" value used to put the average amplitudes calculated by breadslicer into the 0-255 range. This value alters but doesn't go below DEFAULT_BREADSLICER_MAX_AVG_BIN to give a sense of the volume  <br /></td></tr>
<tr class="separator:a1407b951e8381667a6c8bc65e46a4423"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5cbceb3da06e376adf8ff4d2bb852929"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a5cbceb3da06e376adf8ff4d2bb852929">breadslicerSliceLocations</a> [<a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a95abe9e2bdbf853a25283df915bf6289">DEFAULT_NUM_WAVES</a>]</td></tr>
<tr class="memdesc:a5cbceb3da06e376adf8ff4d2bb852929"><td class="mdescLeft">&#160;</td><td class="mdescRight">array storing pre-calculated array locations for slicing the FFT amplitudes array (vReal)  <br /></td></tr>
<tr class="separator:a5cbceb3da06e376adf8ff4d2bb852929"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf2c164b9c94ab8d1f74b04695856aa8"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#adf2c164b9c94ab8d1f74b04695856aa8">breadslicerSliceWeights</a> [<a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a95abe9e2bdbf853a25283df915bf6289">DEFAULT_NUM_WAVES</a>] = {0.6, 1.5, 2.5, 2.0, 2.0}</td></tr>
<tr class="memdesc:adf2c164b9c94ab8d1f74b04695856aa8"><td class="mdescLeft">&#160;</td><td class="mdescRight">weights associated to the average amplitudes of slices  <br /></td></tr>
<tr class="separator:adf2c164b9c94ab8d1f74b04695856aa8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3eccb7df20a2faf44808f8826d6d917b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a3eccb7df20a2faf44808f8826d6d917b">averageAmplitudeOfSlice</a> [<a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a3568552851981dc5aea8c570dc58212c">OSCIL_COUNT</a>]</td></tr>
<tr class="memdesc:a3eccb7df20a2faf44808f8826d6d917b"><td class="mdescLeft">&#160;</td><td class="mdescRight">the array used to store the average amplitudes calculated by the breadslicer  <br /></td></tr>
<tr class="separator:a3eccb7df20a2faf44808f8826d6d917b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add3fa40ecc2f7da12b90a42df75315f5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#add3fa40ecc2f7da12b90a42df75315f5">peakFrequencyOfSlice</a> [<a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a3568552851981dc5aea8c570dc58212c">OSCIL_COUNT</a>]</td></tr>
<tr class="memdesc:add3fa40ecc2f7da12b90a42df75315f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">the array containing the peak frequency of the slice  <br /></td></tr>
<tr class="separator:add3fa40ecc2f7da12b90a42df75315f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab511d0efcaade26b24a66bb573216147"><td class="memItemLeft" align="right" valign="top">Oscil&lt; 2048, AUDIO_RATE &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#ab511d0efcaade26b24a66bb573216147">aSinL</a> [<a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a3568552851981dc5aea8c570dc58212c">OSCIL_COUNT</a>]</td></tr>
<tr class="separator:ab511d0efcaade26b24a66bb573216147"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6643c7c3927d0f04a6fb6b1ecba69411"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a6643c7c3927d0f04a6fb6b1ecba69411">amplitudeGains</a> [<a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a3568552851981dc5aea8c570dc58212c">OSCIL_COUNT</a>]</td></tr>
<tr class="memdesc:a6643c7c3927d0f04a6fb6b1ecba69411"><td class="mdescLeft">&#160;</td><td class="mdescRight">the amplitudes used for synthesis  <br /></td></tr>
<tr class="separator:a6643c7c3927d0f04a6fb6b1ecba69411"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4de0ffaa3889e4716e9531670ef676cd"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a4de0ffaa3889e4716e9531670ef676cd">prevAmplitudeGains</a> [<a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a3568552851981dc5aea8c570dc58212c">OSCIL_COUNT</a>]</td></tr>
<tr class="memdesc:a4de0ffaa3889e4716e9531670ef676cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">the previous amplitudes, used for curve smoothing  <br /></td></tr>
<tr class="separator:a4de0ffaa3889e4716e9531670ef676cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a597c78191179353bade8b20a798e9943"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a597c78191179353bade8b20a798e9943">nextAmplitudeGains</a> [<a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a3568552851981dc5aea8c570dc58212c">OSCIL_COUNT</a>]</td></tr>
<tr class="memdesc:a597c78191179353bade8b20a798e9943"><td class="mdescLeft">&#160;</td><td class="mdescRight">the target amplitudes  <br /></td></tr>
<tr class="separator:a597c78191179353bade8b20a798e9943"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa46a814b993bb632e62b91f6ea143544"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#aa46a814b993bb632e62b91f6ea143544">ampGainStep</a> [<a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a3568552851981dc5aea8c570dc58212c">OSCIL_COUNT</a>]</td></tr>
<tr class="memdesc:aa46a814b993bb632e62b91f6ea143544"><td class="mdescLeft">&#160;</td><td class="mdescRight">the difference between amplitudes transitions  <br /></td></tr>
<tr class="separator:aa46a814b993bb632e62b91f6ea143544"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4ee2a50d62b6c3f1341eb5ee2f1fb3d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#af4ee2a50d62b6c3f1341eb5ee2f1fb3d">toggleFreqChangeWaves</a> = 0</td></tr>
<tr class="memdesc:af4ee2a50d62b6c3f1341eb5ee2f1fb3d"><td class="mdescLeft">&#160;</td><td class="mdescRight">toggle frequency transtions between next available waves and the previous waves, to change the frequencies of the next available waves (ones that are at 0 amplitude)  <br /></td></tr>
<tr class="separator:af4ee2a50d62b6c3f1341eb5ee2f1fb3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab751ac9c27bf5a13970581e111a26645"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#ab751ac9c27bf5a13970581e111a26645">updateCount</a> = 0</td></tr>
<tr class="memdesc:ab751ac9c27bf5a13970581e111a26645"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a59d187b915b2e366c88489e52801951a">updateControl()</a> cycle counter  <br /></td></tr>
<tr class="separator:ab751ac9c27bf5a13970581e111a26645"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a242ec62354dd42c71d3ff973e0cc544c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a242ec62354dd42c71d3ff973e0cc544c">audioSamplingSessionsCount</a> = 0</td></tr>
<tr class="memdesc:a242ec62354dd42c71d3ff973e0cc544c"><td class="mdescLeft">&#160;</td><td class="mdescRight">counter for the sample and processing phases complete in a full CONTROL_RATE cycle, reset when updateCount is 0  <br /></td></tr>
<tr class="separator:a242ec62354dd42c71d3ff973e0cc544c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeac09f5d80b6b7bd5a3748c90339b473"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#aeac09f5d80b6b7bd5a3748c90339b473">opmode</a> = 0</td></tr>
<tr class="separator:aeac09f5d80b6b7bd5a3748c90339b473"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a1fd33066f77c7adf042093cbd2d43798" name="a1fd33066f77c7adf042093cbd2d43798"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1fd33066f77c7adf042093cbd2d43798">&#9670;&#160;</a></span>AUDIO_INPUT_PIN_LEFT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AUDIO_INPUT_PIN_LEFT&#160;&#160;&#160;A2</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>left channel audio input </p>

</div>
</div>
<a id="a3e07a77cc2d44c9db6c9ed0259020e22" name="a3e07a77cc2d44c9db6c9ed0259020e22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e07a77cc2d44c9db6c9ed0259020e22">&#9670;&#160;</a></span>AUDIO_INPUT_PIN_RIGHT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AUDIO_INPUT_PIN_RIGHT&#160;&#160;&#160;A3</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>right channel audio input </p>

</div>
</div>
<a id="a455aa258af04dec4a27708bb5951b04b" name="a455aa258af04dec4a27708bb5951b04b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a455aa258af04dec4a27708bb5951b04b">&#9670;&#160;</a></span>BREADSLICER_CURVE_EXPONENT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BREADSLICER_CURVE_EXPONENT&#160;&#160;&#160;3.0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The exponent for the used for the breadslicer curve. </p>

</div>
</div>
<a id="a7b982b3bb3ff3b2c89cf219640d6cac2" name="a7b982b3bb3ff3b2c89cf219640d6cac2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b982b3bb3ff3b2c89cf219640d6cac2">&#9670;&#160;</a></span>BREADSLICER_CURVE_OFFSET</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BREADSLICER_CURVE_OFFSET&#160;&#160;&#160;0.59</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The curve offset for the breadslicer to follow when slicing the amplitude array. </p>

</div>
</div>
<a id="ae5d737db8bc97ecf08d2ea3121782d26" name="ae5d737db8bc97ecf08d2ea3121782d26"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae5d737db8bc97ecf08d2ea3121782d26">&#9670;&#160;</a></span>CONTROL_RATE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CONTROL_RATE&#160;&#160;&#160;int(pow(2, 5 + log(<a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a01ad881567e2c4641c1b90f7f9b7e6b2">SAMPLES_PER_SEC</a>) / log(2)))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update control cycles per second for ideal performance, this MUST be a power of 2 2^(5 + log_base2(SAMPLES_PER_SEC)) = 2048 for 64/s, 1024 for 32/s, 512 for 16/s, 256 for 8/s. </p>

</div>
</div>
<a id="a749d9a2dd3e81512a6ffde758d0bffbe" name="a749d9a2dd3e81512a6ffde758d0bffbe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a749d9a2dd3e81512a6ffde758d0bffbe">&#9670;&#160;</a></span>DEFAULT_BREADSLICER_MAX_AVG_BIN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEFAULT_BREADSLICER_MAX_AVG_BIN&#160;&#160;&#160;2000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The minimum max that is used for scaling the amplitudes to the 0-255 range, and helps represent the volume. </p>

</div>
</div>
<a id="a95abe9e2bdbf853a25283df915bf6289" name="a95abe9e2bdbf853a25283df915bf6289"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95abe9e2bdbf853a25283df915bf6289">&#9670;&#160;</a></span>DEFAULT_NUM_WAVES</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEFAULT_NUM_WAVES&#160;&#160;&#160;5</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The number of waves to synthesize, and how many slices the breadslicer function does. </p>

</div>
</div>
<a id="a78ca6144a6b9abd676b060924f15fee3" name="a78ca6144a6b9abd676b060924f15fee3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78ca6144a6b9abd676b060924f15fee3">&#9670;&#160;</a></span>FFT_FLOOR_THRESH</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FFT_FLOOR_THRESH&#160;&#160;&#160;300</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>amplitude flooring threshold for FFT, to help reduce input noise </p>

</div>
</div>
<a id="a672e826f90d2353b776281bcee832244" name="a672e826f90d2353b776281bcee832244"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a672e826f90d2353b776281bcee832244">&#9670;&#160;</a></span>FFT_SAMPLING_FREQ</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FFT_SAMPLING_FREQ&#160;&#160;&#160;8192</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The sampling frequency, ideally should be a power of 2. </p>

</div>
</div>
<a id="a6fb55daf48579b8ab77d976c01ffae3a" name="a6fb55daf48579b8ab77d976c01ffae3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6fb55daf48579b8ab77d976c01ffae3a">&#9670;&#160;</a></span>FFT_WINDOW_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FFT_WINDOW_SIZE&#160;&#160;&#160;int(pow(2, 12 - log(<a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a01ad881567e2c4641c1b90f7f9b7e6b2">SAMPLES_PER_SEC</a>) / log(2)))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>the FFT window size and number of audio samples for ideal performance, this MUST be a power of 2 \ 2^(12 - log_base2(SAMPLES_PER_SEC)) = 64 for 64/s, 128 for 32/s, 256 for 16/s, 512 for 8/s </p>

</div>
</div>
<a id="a3568552851981dc5aea8c570dc58212c" name="a3568552851981dc5aea8c570dc58212c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3568552851981dc5aea8c570dc58212c">&#9670;&#160;</a></span>OSCIL_COUNT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OSCIL_COUNT&#160;&#160;&#160;int(<a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a95abe9e2bdbf853a25283df915bf6289">DEFAULT_NUM_WAVES</a>) &lt;&lt; 1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The total number of waves to synthesize, DEFAULT_NUM_WAVES * 2. </p>

</div>
</div>
<a id="a01ad881567e2c4641c1b90f7f9b7e6b2" name="a01ad881567e2c4641c1b90f7f9b7e6b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01ad881567e2c4641c1b90f7f9b7e6b2">&#9670;&#160;</a></span>SAMPLES_PER_SEC</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SAMPLES_PER_SEC&#160;&#160;&#160;32</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The number of sampling/analysis cycles per second, this MUST be a power of 2. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a4a88842bf46ea8b9141a56526321acc1" name="a4a88842bf46ea8b9141a56526321acc1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a88842bf46ea8b9141a56526321acc1">&#9670;&#160;</a></span>breadslicer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void breadslicer </td>
          <td>(</td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sliceInto</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Splits the amplitude data (vReal array) into X bands based on somewhat of a parabolic/logarithmic curve, where X is sliceInto. This is done to detect features of sound which are commonly found at certain frequency ranges. For example, 0-200Hz is where bass is common, 200-1200Hz is where voice and instruments are common, 1000-5000Hz higher notes and tones as well as harmonics</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">float*</td><td>data </td></tr>
    <tr><td class="paramname">int</td><td>sliceInto </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>N/A </dd></dl>

</div>
</div>
<a id="ad22ce9102881117eea2c8e1d845f08b6" name="ad22ce9102881117eea2c8e1d845f08b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad22ce9102881117eea2c8e1d845f08b6">&#9670;&#160;</a></span>calculateBreadslicerLocations()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void calculateBreadslicerLocations </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Used to pre-calculate the array locations for the breadslicer to reduce processor load during loop</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">N/A</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>N/A </dd></dl>

</div>
</div>
<a id="ad283e62c0f4622d334e5db85ed75a4cb" name="ad283e62c0f4622d334e5db85ed75a4cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad283e62c0f4622d334e5db85ed75a4cb">&#9670;&#160;</a></span>calculateFadeFunction()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void calculateFadeFunction </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Used to precalculate the values for the fade function to reduce processor load during loop</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">N/A</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>N/A </dd></dl>

</div>
</div>
<a id="a011480b65a5ac428d3fa560baa445b87" name="a011480b65a5ac428d3fa560baa445b87"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a011480b65a5ac428d3fa560baa445b87">&#9670;&#160;</a></span>findMajorPeaks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void findMajorPeaks </td>
          <td>(</td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Find all the major peaks in the fft spectrogram, based on the threshold and how many peaks to find</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">float*</td><td>data </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>N/A </dd></dl>

</div>
</div>
<a id="a520bcf71d9a4db6501d29a92d228c9f2" name="a520bcf71d9a4db6501d29a92d228c9f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a520bcf71d9a4db6501d29a92d228c9f2">&#9670;&#160;</a></span>frequencyMaxAmplitudeDelta()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void frequencyMaxAmplitudeDelta </td>
          <td>(</td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>prevData</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Finds the frequency with the most dominant change in amplitude, by comparing 2 consecutive FFT amplitude arrays</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">float*</td><td>data </td></tr>
    <tr><td class="paramname">float*</td><td>prevData </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>N/A </dd></dl>

</div>
</div>
<a id="afe461d27b9c48d5921c00d521181f12f" name="afe461d27b9c48d5921c00d521181f12f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe461d27b9c48d5921c00d521181f12f">&#9670;&#160;</a></span>loop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void loop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>audioHook() should be the only function running in <a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#afe461d27b9c48d5921c00d521181f12f">loop()</a>, all processor heavy operations should be done in <a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a59d187b915b2e366c88489e52801951a">updateControl()</a>, and audio synthesis in <a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a41f0db3f560ff1fdec78f9c60822466e">updateAudio()</a>. audioHook() is the mozzi library wrapper for its loops and output. Default Arduino function.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">N/A</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>N/A </dd></dl>

</div>
</div>
<a id="ace892773176b7d17c2d07497bad7441a" name="ace892773176b7d17c2d07497bad7441a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace892773176b7d17c2d07497bad7441a">&#9670;&#160;</a></span>mapFreqAmplitudes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mapFreqAmplitudes </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Maps the amplitudes and frequencies just generated by FFT to the next amplitudes to be synthesized, which is done to gradually increase/decrease the real amplitudes to the next amplitudes with linear smoothing (can be changed to curve smoothing).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">N/A</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>N/A </dd></dl>

</div>
</div>
<a id="a11975c48ec4b8483653b2eea25819582" name="a11975c48ec4b8483653b2eea25819582"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11975c48ec4b8483653b2eea25819582">&#9670;&#160;</a></span>recordSample()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void recordSample </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sampleCount</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Records samples into the sample buffer array by reading from the audio input pins, at a sampling frequency of SAMPLE_FREQ</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">int</td><td>sampleCount </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>N/A </dd></dl>

</div>
</div>
<a id="a4fc01d736fe50cf5b977f755b675f11d" name="a4fc01d736fe50cf5b977f755b675f11d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fc01d736fe50cf5b977f755b675f11d">&#9670;&#160;</a></span>setup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setup </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p><a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a4fc01d736fe50cf5b977f755b675f11d">setup()</a> acts as a run once function, do any one time calculations or array initialization here. Default Arduino function.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">N/A</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>N/A </dd></dl>

</div>
</div>
<a id="af079caf41d703225c337d01ff1d47265" name="af079caf41d703225c337d01ff1d47265"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af079caf41d703225c337d01ff1d47265">&#9670;&#160;</a></span>smoothenTransition()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void smoothenTransition </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Linear smoothing between amplitudes to reduce audio glitches, using precalculated values</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">N/A</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>N/A </dd></dl>

</div>
</div>
<a id="a41f0db3f560ff1fdec78f9c60822466e" name="a41f0db3f560ff1fdec78f9c60822466e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41f0db3f560ff1fdec78f9c60822466e">&#9670;&#160;</a></span>updateAudio()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AudioOutput_t updateAudio </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p><a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a41f0db3f560ff1fdec78f9c60822466e">updateAudio()</a> is called @AUDIO_RATE times per second, the code in here needs to be very basic or audio glitches will occur. Mozzi Library function.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">N/A</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>N/A </dd></dl>

</div>
</div>
<a id="a59d187b915b2e366c88489e52801951a" name="a59d187b915b2e366c88489e52801951a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59d187b915b2e366c88489e52801951a">&#9670;&#160;</a></span>updateControl()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void updateControl </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p><a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a59d187b915b2e366c88489e52801951a">updateControl()</a> is called every @CONTROL_RATE times per second, meaning that all functions that are called here have to be completed within a certain period of time that can be calculated by @UPDATE_TIME. Mozzi Library function.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">N/A</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>N/A </dd></dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="aa46a814b993bb632e62b91f6ea143544" name="aa46a814b993bb632e62b91f6ea143544"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa46a814b993bb632e62b91f6ea143544">&#9670;&#160;</a></span>ampGainStep</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float ampGainStep[<a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a3568552851981dc5aea8c570dc58212c">OSCIL_COUNT</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>the difference between amplitudes transitions </p>

</div>
</div>
<a id="a6643c7c3927d0f04a6fb6b1ecba69411" name="a6643c7c3927d0f04a6fb6b1ecba69411"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6643c7c3927d0f04a6fb6b1ecba69411">&#9670;&#160;</a></span>amplitudeGains</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int amplitudeGains[<a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a3568552851981dc5aea8c570dc58212c">OSCIL_COUNT</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>the amplitudes used for synthesis </p>

</div>
</div>
<a id="a1407b951e8381667a6c8bc65e46a4423" name="a1407b951e8381667a6c8bc65e46a4423"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1407b951e8381667a6c8bc65e46a4423">&#9670;&#160;</a></span>amplitudeToRange</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float amplitudeToRange = (255.0/<a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a749d9a2dd3e81512a6ffde758d0bffbe">DEFAULT_BREADSLICER_MAX_AVG_BIN</a>) / <a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#af2d0c52b978801aecb8d130a0d1cbcd5">numWaves</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>the "K" value used to put the average amplitudes calculated by breadslicer into the 0-255 range. This value alters but doesn't go below DEFAULT_BREADSLICER_MAX_AVG_BIN to give a sense of the volume </p>

</div>
</div>
<a id="ab511d0efcaade26b24a66bb573216147" name="ab511d0efcaade26b24a66bb573216147"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab511d0efcaade26b24a66bb573216147">&#9670;&#160;</a></span>aSinL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Oscil&lt;2048, AUDIO_RATE&gt; aSinL[<a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a3568552851981dc5aea8c570dc58212c">OSCIL_COUNT</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a242ec62354dd42c71d3ff973e0cc544c" name="a242ec62354dd42c71d3ff973e0cc544c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a242ec62354dd42c71d3ff973e0cc544c">&#9670;&#160;</a></span>audioSamplingSessionsCount</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int audioSamplingSessionsCount = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>counter for the sample and processing phases complete in a full CONTROL_RATE cycle, reset when updateCount is 0 </p>

</div>
</div>
<a id="a3eccb7df20a2faf44808f8826d6d917b" name="a3eccb7df20a2faf44808f8826d6d917b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3eccb7df20a2faf44808f8826d6d917b">&#9670;&#160;</a></span>averageAmplitudeOfSlice</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int averageAmplitudeOfSlice[<a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a3568552851981dc5aea8c570dc58212c">OSCIL_COUNT</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>the array used to store the average amplitudes calculated by the breadslicer </p>

</div>
</div>
<a id="a5cbceb3da06e376adf8ff4d2bb852929" name="a5cbceb3da06e376adf8ff4d2bb852929"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5cbceb3da06e376adf8ff4d2bb852929">&#9670;&#160;</a></span>breadslicerSliceLocations</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int breadslicerSliceLocations[<a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a95abe9e2bdbf853a25283df915bf6289">DEFAULT_NUM_WAVES</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>array storing pre-calculated array locations for slicing the FFT amplitudes array (vReal) </p>

</div>
</div>
<a id="adf2c164b9c94ab8d1f74b04695856aa8" name="adf2c164b9c94ab8d1f74b04695856aa8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf2c164b9c94ab8d1f74b04695856aa8">&#9670;&#160;</a></span>breadslicerSliceWeights</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float breadslicerSliceWeights[<a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a95abe9e2bdbf853a25283df915bf6289">DEFAULT_NUM_WAVES</a>] = {0.6, 1.5, 2.5, 2.0, 2.0}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>weights associated to the average amplitudes of slices </p>

</div>
</div>
<a id="a5db3c4d293ff61777e277ed48075a847" name="a5db3c4d293ff61777e277ed48075a847"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5db3c4d293ff61777e277ed48075a847">&#9670;&#160;</a></span>FADE_CONST</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float FADE_CONST[<a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a95eefc3e3dfde96226ad7040be832c9f">FADE_RATE</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Array storing amplitude smoothing constants from 0.0 to 1.0. </p>

</div>
</div>
<a id="a95eefc3e3dfde96226ad7040be832c9f" name="a95eefc3e3dfde96226ad7040be832c9f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95eefc3e3dfde96226ad7040be832c9f">&#9670;&#160;</a></span>FADE_RATE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int FADE_RATE = <a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#abb63574bf68aa408bed9299506ee4535">SAMPLE_TIME</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>the number of cycles for fading </p>

</div>
</div>
<a id="a032c65c9c79d8749a7ed7df7d68e4569" name="a032c65c9c79d8749a7ed7df7d68e4569"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a032c65c9c79d8749a7ed7df7d68e4569">&#9670;&#160;</a></span>FADE_STEPX</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const float FADE_STEPX = float(2.0 / (<a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a95eefc3e3dfde96226ad7040be832c9f">FADE_RATE</a> - 1))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>the x position of the smoothing curve </p>

</div>
</div>
<a id="a06b27c3b9baf6deead77da64ff56173e" name="a06b27c3b9baf6deead77da64ff56173e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06b27c3b9baf6deead77da64ff56173e">&#9670;&#160;</a></span>fadeCounter</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fadeCounter = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>counter used to smoothen transition between amplitudes </p>

</div>
</div>
<a id="a06dc8755eca604de4444291b9dfe17a0" name="a06dc8755eca604de4444291b9dfe17a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06dc8755eca604de4444291b9dfe17a0">&#9670;&#160;</a></span>FFT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">arduinoFFT FFT = arduinoFFT(<a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a2b05406466f48548342ee40dee00651d">vRealL</a>, <a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a94cf79586f569fec18177b9d59b9eb4d">vImagL</a>, <a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a29de084c3c8324623b03cd883eb0a9e1">FFT_WIN_SIZE</a>, <a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#ac3b13da676fec615aa50d645ba0c44c5">SAMPLE_FREQ</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a29de084c3c8324623b03cd883eb0a9e1" name="a29de084c3c8324623b03cd883eb0a9e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29de084c3c8324623b03cd883eb0a9e1">&#9670;&#160;</a></span>FFT_WIN_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const uint16_t FFT_WIN_SIZE = int(<a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a6fb55daf48579b8ab77d976c01ffae3a">FFT_WINDOW_SIZE</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>the windowing function size of FFT </p>

</div>
</div>
<a id="a5fe0cb84b5d3be77434374630ebaf741" name="a5fe0cb84b5d3be77434374630ebaf741"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5fe0cb84b5d3be77434374630ebaf741">&#9670;&#160;</a></span>FFT_WIN_SIZE_BY2</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int FFT_WIN_SIZE_BY2 = int(<a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a29de084c3c8324623b03cd883eb0a9e1">FFT_WIN_SIZE</a>) &gt;&gt; 1</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a31f38911ab561e0a2ee9322334816491" name="a31f38911ab561e0a2ee9322334816491"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a31f38911ab561e0a2ee9322334816491">&#9670;&#160;</a></span>freqMaxAmpChange</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int freqMaxAmpChange = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a57c91699aff3818ddda304b58c95aa11" name="a57c91699aff3818ddda304b58c95aa11"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57c91699aff3818ddda304b58c95aa11">&#9670;&#160;</a></span>frequencyResolution</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const float frequencyResolution = float(<a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a9a6515073e16fbf227dbd3948622c1dc">samplingFreqBy2</a> / <a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a5fe0cb84b5d3be77434374630ebaf741">FFT_WIN_SIZE_BY2</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>the frequency resolution of FFT with the current window size </p>

</div>
</div>
<a id="afe24551053b7358016540fbebdf40079" name="afe24551053b7358016540fbebdf40079"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe24551053b7358016540fbebdf40079">&#9670;&#160;</a></span>maxAmpChange</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float maxAmpChange = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a0a92a07bde565e55068e6576de189513" name="a0a92a07bde565e55068e6576de189513"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a92a07bde565e55068e6576de189513">&#9670;&#160;</a></span>maxAmpChangeAmp</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float maxAmpChangeAmp = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a597c78191179353bade8b20a798e9943" name="a597c78191179353bade8b20a798e9943"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a597c78191179353bade8b20a798e9943">&#9670;&#160;</a></span>nextAmplitudeGains</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nextAmplitudeGains[<a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a3568552851981dc5aea8c570dc58212c">OSCIL_COUNT</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>the target amplitudes </p>

</div>
</div>
<a id="a896dc2c4caaf39f484ea213511b2641c" name="a896dc2c4caaf39f484ea213511b2641c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a896dc2c4caaf39f484ea213511b2641c">&#9670;&#160;</a></span>nextProcess</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nextProcess = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The next signal aquisition/processing phase to be completed in updateControl. </p>

</div>
</div>
<a id="a1ca76cf692c40b0280785e897f5bf869" name="a1ca76cf692c40b0280785e897f5bf869"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ca76cf692c40b0280785e897f5bf869">&#9670;&#160;</a></span>numProcessForSampling</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int numProcessForSampling = ceil(<a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a29de084c3c8324623b03cd883eb0a9e1">FFT_WIN_SIZE</a> / <a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a8b98b893b0f40d01bb301506af1b9f96">numSamplesPerProcess</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>the total number of processes to sample, calculated in setup </p>

</div>
</div>
<a id="a8b98b893b0f40d01bb301506af1b9f96" name="a8b98b893b0f40d01bb301506af1b9f96"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b98b893b0f40d01bb301506af1b9f96">&#9670;&#160;</a></span>numSamplesPerProcess</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int numSamplesPerProcess = floor(<a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a636e40401497161b8a0c4382080ddcd0">UPDATE_TIME</a> / <a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#aaad52919d25569aeeb3d3d0699b1384d">sampleDelayTime</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The Number of samples to take per update. </p>

</div>
</div>
<a id="aa79320f52f3ac98552e0bf23e4da5406" name="aa79320f52f3ac98552e0bf23e4da5406"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa79320f52f3ac98552e0bf23e4da5406">&#9670;&#160;</a></span>numSamplesTaken</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int numSamplesTaken = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>stores the number of audio samples taken, used as iterator to fill audio sample buffer </p>

</div>
</div>
<a id="ac3d14089fff686af4951a2edca621905" name="ac3d14089fff686af4951a2edca621905"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3d14089fff686af4951a2edca621905">&#9670;&#160;</a></span>numTotalProcesses</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int numTotalProcesses = <a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a1ca76cf692c40b0280785e897f5bf869">numProcessForSampling</a> + 2</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>adding 2 more processes for FFT windowing function and other processing </p>

</div>
</div>
<a id="af2d0c52b978801aecb8d130a0d1cbcd5" name="af2d0c52b978801aecb8d130a0d1cbcd5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2d0c52b978801aecb8d130a0d1cbcd5">&#9670;&#160;</a></span>numWaves</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int numWaves = int(<a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a95abe9e2bdbf853a25283df915bf6289">DEFAULT_NUM_WAVES</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aeac09f5d80b6b7bd5a3748c90339b473" name="aeac09f5d80b6b7bd5a3748c90339b473"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeac09f5d80b6b7bd5a3748c90339b473">&#9670;&#160;</a></span>opmode</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int opmode = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aabe459ab615ab0d8aa9d9c65ba7e226a" name="aabe459ab615ab0d8aa9d9c65ba7e226a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aabe459ab615ab0d8aa9d9c65ba7e226a">&#9670;&#160;</a></span>OUTLIER</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const float OUTLIER = 30000.0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Outlier for unusually high amplitudes in FFT. </p>

</div>
</div>
<a id="a718a65727ea3d6a4df7700aab4a5956c" name="a718a65727ea3d6a4df7700aab4a5956c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a718a65727ea3d6a4df7700aab4a5956c">&#9670;&#160;</a></span>peakAmplitudes</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int peakAmplitudes[<a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a5fe0cb84b5d3be77434374630ebaf741">FFT_WIN_SIZE_BY2</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="add3fa40ecc2f7da12b90a42df75315f5" name="add3fa40ecc2f7da12b90a42df75315f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add3fa40ecc2f7da12b90a42df75315f5">&#9670;&#160;</a></span>peakFrequencyOfSlice</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int peakFrequencyOfSlice[<a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a3568552851981dc5aea8c570dc58212c">OSCIL_COUNT</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>the array containing the peak frequency of the slice </p>

</div>
</div>
<a id="ac5d092e294df6ea9e4a62580d55af04d" name="ac5d092e294df6ea9e4a62580d55af04d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac5d092e294df6ea9e4a62580d55af04d">&#9670;&#160;</a></span>peakIndexes</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int peakIndexes[<a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a5fe0cb84b5d3be77434374630ebaf741">FFT_WIN_SIZE_BY2</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a4de0ffaa3889e4716e9531670ef676cd" name="a4de0ffaa3889e4716e9531670ef676cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4de0ffaa3889e4716e9531670ef676cd">&#9670;&#160;</a></span>prevAmplitudeGains</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int prevAmplitudeGains[<a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a3568552851981dc5aea8c570dc58212c">OSCIL_COUNT</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>the previous amplitudes, used for curve smoothing </p>

</div>
</div>
<a id="ac3b13da676fec615aa50d645ba0c44c5" name="ac3b13da676fec615aa50d645ba0c44c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3b13da676fec615aa50d645ba0c44c5">&#9670;&#160;</a></span>SAMPLE_FREQ</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const float SAMPLE_FREQ = float(<a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a672e826f90d2353b776281bcee832244">FFT_SAMPLING_FREQ</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>the sampling frequency of FFT </p>
<p>FFT_SIZE_BY_2 is FFT_WIN_SIZE / 2. We are sampling at double the frequency we are trying to detect, therefore only half of the vReal array is used for analysis post FFT </p>

</div>
</div>
<a id="abb63574bf68aa408bed9299506ee4535" name="abb63574bf68aa408bed9299506ee4535"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb63574bf68aa408bed9299506ee4535">&#9670;&#160;</a></span>SAMPLE_TIME</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int SAMPLE_TIME = int(<a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#ae5d737db8bc97ecf08d2ea3121782d26">CONTROL_RATE</a> / <a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a01ad881567e2c4641c1b90f7f9b7e6b2">SAMPLES_PER_SEC</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>sampling and processing time in updateControl </p>

</div>
</div>
<a id="aaad52919d25569aeeb3d3d0699b1384d" name="aaad52919d25569aeeb3d3d0699b1384d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaad52919d25569aeeb3d3d0699b1384d">&#9670;&#160;</a></span>sampleDelayTime</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int sampleDelayTime = 1000000 / <a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#ac3b13da676fec615aa50d645ba0c44c5">SAMPLE_FREQ</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a9f7e20656e5d202a35d00f5df63106d6" name="a9f7e20656e5d202a35d00f5df63106d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f7e20656e5d202a35d00f5df63106d6">&#9670;&#160;</a></span>sampleT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile unsigned long sampleT</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>stores the time since program started using mozziMicros() rather than micros() </p>

</div>
</div>
<a id="a9a6515073e16fbf227dbd3948622c1dc" name="a9a6515073e16fbf227dbd3948622c1dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a6515073e16fbf227dbd3948622c1dc">&#9670;&#160;</a></span>samplingFreqBy2</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const float samplingFreqBy2 = <a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#ac3b13da676fec615aa50d645ba0c44c5">SAMPLE_FREQ</a> / 2.0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>the frequency we are sampling at divided by 2, since we need to sample twice the frequency we are trying to detect </p>

</div>
</div>
<a id="ae88311b0e9e9d98c9ec83f13292f3819" name="ae88311b0e9e9d98c9ec83f13292f3819"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae88311b0e9e9d98c9ec83f13292f3819">&#9670;&#160;</a></span>slices</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int slices = <a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#af2d0c52b978801aecb8d130a0d1cbcd5">numWaves</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>accounts for how many slices the samples are split into </p>

</div>
</div>
<a id="ada9502094021bbd7e286ecbdb9cc226a" name="ada9502094021bbd7e286ecbdb9cc226a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada9502094021bbd7e286ecbdb9cc226a">&#9670;&#160;</a></span>sumOfPeakAmps</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sumOfPeakAmps = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="af4ee2a50d62b6c3f1341eb5ee2f1fb3d" name="af4ee2a50d62b6c3f1341eb5ee2f1fb3d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4ee2a50d62b6c3f1341eb5ee2f1fb3d">&#9670;&#160;</a></span>toggleFreqChangeWaves</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int toggleFreqChangeWaves = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>toggle frequency transtions between next available waves and the previous waves, to change the frequencies of the next available waves (ones that are at 0 amplitude) </p>

</div>
</div>
<a id="acb2b154370d84e55e9974bba76a7902d" name="acb2b154370d84e55e9974bba76a7902d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb2b154370d84e55e9974bba76a7902d">&#9670;&#160;</a></span>totalNumWaves</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int totalNumWaves = int(<a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a95abe9e2bdbf853a25283df915bf6289">DEFAULT_NUM_WAVES</a>) &lt;&lt; 1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>we are synthesizing twice the number of frequencies we are finding, toggling between the two sets, changing the frequency when the amplitudes of one of the sets are 0 </p>

</div>
</div>
<a id="af0511d0e92fa6e8a9a9cf6e2f4f23eca" name="af0511d0e92fa6e8a9a9cf6e2f4f23eca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0511d0e92fa6e8a9a9cf6e2f4f23eca">&#9670;&#160;</a></span>totalSampleDelay</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int totalSampleDelay = <a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#aaad52919d25569aeeb3d3d0699b1384d">sampleDelayTime</a> * <a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a29de084c3c8324623b03cd883eb0a9e1">FFT_WIN_SIZE</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a636e40401497161b8a0c4382080ddcd0" name="a636e40401497161b8a0c4382080ddcd0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a636e40401497161b8a0c4382080ddcd0">&#9670;&#160;</a></span>UPDATE_TIME</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int UPDATE_TIME = 1000000 / <a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#ae5d737db8bc97ecf08d2ea3121782d26">CONTROL_RATE</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The estimated time in microseconds of each <a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a59d187b915b2e366c88489e52801951a">updateControl()</a> call. </p>

</div>
</div>
<a id="ab751ac9c27bf5a13970581e111a26645" name="ab751ac9c27bf5a13970581e111a26645"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab751ac9c27bf5a13970581e111a26645">&#9670;&#160;</a></span>updateCount</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int updateCount = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a59d187b915b2e366c88489e52801951a">updateControl()</a> cycle counter </p>

</div>
</div>
<a id="a94cf79586f569fec18177b9d59b9eb4d" name="a94cf79586f569fec18177b9d59b9eb4d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94cf79586f569fec18177b9d59b9eb4d">&#9670;&#160;</a></span>vImagL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float vImagL[<a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a29de084c3c8324623b03cd883eb0a9e1">FFT_WIN_SIZE</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>vImagL is used to store imaginary values for computation </p>

</div>
</div>
<a id="a79f18f5a8af016e548addb4df7b61c7b" name="a79f18f5a8af016e548addb4df7b61c7b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79f18f5a8af016e548addb4df7b61c7b">&#9670;&#160;</a></span>vImagR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float vImagR[<a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a29de084c3c8324623b03cd883eb0a9e1">FFT_WIN_SIZE</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>vImagR is used to store imaginary values for computation </p>

</div>
</div>
<a id="a2b05406466f48548342ee40dee00651d" name="a2b05406466f48548342ee40dee00651d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b05406466f48548342ee40dee00651d">&#9670;&#160;</a></span>vRealL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float vRealL[<a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a29de084c3c8324623b03cd883eb0a9e1">FFT_WIN_SIZE</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>vRealL is used for input from the left channel and receives computed results from FFT </p>

</div>
</div>
<a id="a3d7c7fbeda6d1814ad388e154218ecf9" name="a3d7c7fbeda6d1814ad388e154218ecf9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d7c7fbeda6d1814ad388e154218ecf9">&#9670;&#160;</a></span>vRealPrev</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float vRealPrev[<a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a5fe0cb84b5d3be77434374630ebaf741">FFT_WIN_SIZE_BY2</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a4dd768352e4453a2eb1e41c31defdac0" name="a4dd768352e4453a2eb1e41c31defdac0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4dd768352e4453a2eb1e41c31defdac0">&#9670;&#160;</a></span>vRealR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float vRealR[<a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html#a29de084c3c8324623b03cd883eb0a9e1">FFT_WIN_SIZE</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>vRealR is used for input from the right channel and receives computed results from FFT </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="esp32-_f_f_tto_bins_to_add_synth_8ino.html">esp32-FFTtoBinsToAddSynth.ino</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6 </li>
  </ul>
</div>
</body>
</html>
